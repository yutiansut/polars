<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `time` mod in crate `polars`."><meta name="keywords" content="rust, rustlang, rust-lang, time"><title>polars::doc::time - Rust</title><link rel="stylesheet" type="text/css" href="../../../normalize.css"><link rel="stylesheet" type="text/css" href="../../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../../../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../../../ayu.css" disabled ><script id="default-settings"></script><script src="../../../storage.js"></script><noscript><link rel="stylesheet" href="../../../noscript.css"></noscript><link rel="icon" type="image/svg+xml" href="../../../favicon.svg">
<link rel="alternate icon" type="image/png" href="../../../favicon-16x16.png">
<link rel="alternate icon" type="image/png" href="../../../favicon-32x32.png"><style type="text/css">#crate-search{background-image:url("../../../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu">&#9776;</div><a href='../../../polars/index.html'><div class='logo-container rust-logo'><img src='../../../rust-logo.png' alt='logo'></div></a><p class="location">Module time</p><div class="sidebar-elems"><p class="location"><a href="../../index.html">polars</a>::<wbr><a href="../index.html">doc</a></p><script>window.sidebarCurrent = {name: "time", ty: "mod", relpath: "../"};</script><script defer src="../sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu"><img src="../../../brush.svg" width="18" alt="Pick another theme!"></button><div id="theme-choices" role="menu"></div></div><script src="../../../theme.js"></script><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><span class="help-button">?</span>
                <a id="settings-menu" href="../../../settings.html"><img src="../../../wheel.svg" width="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../../../src/polars/doc/time.rs.html#1-126" title="goto source code">[src]</a></span><span class="in-band">Module <a href="../../index.html">polars</a>::<wbr><a href="../index.html">doc</a>::<wbr><a class="mod" href="">time</a></span></h1><div class="docblock"><h1 id="datetime-related-functionality" class="section-header"><a href="#datetime-related-functionality">DateTime related functionality</a></h1>
<p>Polars supports all data types in Arrow related to time and dates in any kind.
In Arrow times and dates are stored as i32 or i64 integers. This can represent for instance
a duration in seconds since the <em>Unix Epoch: 00:00:00 1 january 1970</em>.</p>
<h2 id="chrono" class="section-header"><a href="#chrono">Chrono</a></h2>
<p>I can imagine that integer values aren't the most intuitive when dealing with dates and times.
For this reason, Polars supports conversion from <strong>chrono's</strong> <a href="https://docs.rs/chrono/0.4.13/chrono/naive/struct.NaiveTime.html">NaiveTime</a>
and <a href="https://docs.rs/chrono/0.4.13/chrono/naive/struct.NaiveDate.html">NaiveDate</a> structs to
Polars and vice versa.</p>
<p><code>ChunkedArray&lt;T&gt;</code>'s initialization is represented by the the following traits:</p>
<ul>
<li><a href="../../chunked_array/temporal/trait.FromNaiveTime.html">FromNaiveTime</a></li>
<li><a href="../../chunked_array/temporal/trait.FromNaiveDateTime.html">FromNaiveDateTime</a></li>
</ul>
<p>To cast a <code>ChunkedArray&lt;T&gt;</code> to a <code>Vec&lt;NaiveTime&gt;</code> or a <code>Vec&lt;NaiveDateTime&gt;</code> see:</p>
<ul>
<li><a href="../../chunked_array/temporal/trait.AsNaiveTime.html">AsNaiveTime</a></li>
</ul>
<h3 id="example" class="section-header"><a href="#example">Example</a></h3>
<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">chrono</span>::<span class="ident">NaiveTime</span>;
<span class="kw">use</span> <span class="ident">polars</span>::<span class="ident">prelude</span>::<span class="kw-2">*</span>;;

<span class="comment">// We can create a ChunkedArray from NaiveTime objects</span>
<span class="kw">fn</span> <span class="ident">from_naive_time_to_time32</span>(<span class="ident">time_values</span>: <span class="kw-2">&amp;</span>[<span class="ident">NaiveTime</span>]) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">Time32SecondChunked</span> {
    <span class="ident">Time32SecondChunked</span>::<span class="ident">new_from_naive_time</span>(<span class="string">&quot;name&quot;</span>, <span class="ident">time_values</span>)
}

<span class="comment">// Or from a ChunkedArray to NaiveTime objects</span>
<span class="kw">fn</span> <span class="ident">from_time32_to_naive_time</span>(<span class="ident">ca</span>: <span class="kw-2">&amp;</span><span class="ident">Time32SecondChunked</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">Vec</span><span class="op">&lt;</span><span class="prelude-ty">Option</span><span class="op">&lt;</span><span class="ident">NaiveTime</span><span class="op">&gt;</span><span class="op">&gt;</span> {
    <span class="ident">ca</span>.<span class="ident">as_naive_time</span>()
}</pre></div>
<h2 id="string-formatting" class="section-header"><a href="#string-formatting">String formatting</a></h2>
<p>We can also directly parse strings given a predifined <code>fmt: &amp;str</code>. This uses <strong>chrono's</strong>
<a href="https://docs.rs/chrono/0.4.15/chrono/naive/struct.NaiveTime.html#method.parse_from_str">NaiveTime::parse_from_str</a>
under the hood. So look there for the different formatting options. If the string parsing is not
succesful, the value will be <code>None</code>.</p>
<h3 id="examples" class="section-header"><a href="#examples">Examples</a></h3><h4 id="naivetime" class="section-header"><a href="#naivetime">NaiveTime</a></h4>
<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">polars</span>::<span class="ident">prelude</span>::<span class="kw-2">*</span>;
<span class="kw">use</span> <span class="ident">chrono</span>::<span class="ident">NaiveTime</span>;

<span class="comment">// String values to parse, Note that the 2nd value is not a correct time value.</span>
<span class="kw">let</span> <span class="ident">time_values</span> <span class="op">=</span> <span class="kw-2">&amp;</span>[<span class="string">&quot;23:56:04&quot;</span>, <span class="string">&quot;26:00:99&quot;</span>, <span class="string">&quot;12:39:08&quot;</span>];
<span class="comment">// Parsing fmt</span>
<span class="kw">let</span> <span class="ident">fmt</span> <span class="op">=</span> <span class="string">&quot;%H:%M:%S&quot;</span>;
<span class="comment">// Create the ChunkedArray</span>
<span class="kw">let</span> <span class="ident">ca</span> <span class="op">=</span> <span class="ident">Time64NanosecondChunked</span>::<span class="ident">parse_from_str_slice</span>(<span class="string">&quot;Time as ns since midnight&quot;</span>, <span class="ident">time_values</span>, <span class="ident">fmt</span>);

<span class="comment">// Assert that we&#39;ve got a ChunkedArray with a single None value.</span>
<span class="macro">assert_eq</span><span class="macro">!</span>(<span class="ident">ca</span>.<span class="ident">as_naive_time</span>(),
    <span class="kw-2">&amp;</span>[<span class="ident">NaiveTime</span>::<span class="ident">parse_from_str</span>(<span class="ident">time_values</span>[<span class="number">0</span>], <span class="ident">fmt</span>).<span class="ident">ok</span>(),
    <span class="prelude-val">None</span>,
    <span class="ident">NaiveTime</span>::<span class="ident">parse_from_str</span>(<span class="ident">time_values</span>[<span class="number">2</span>], <span class="ident">fmt</span>).<span class="ident">ok</span>()]);</pre></div>
<h4 id="naivedatetime" class="section-header"><a href="#naivedatetime">NaiveDateTime</a></h4>
<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">polars</span>::<span class="ident">prelude</span>::<span class="kw-2">*</span>;
<span class="kw">use</span> <span class="ident">chrono</span>::<span class="ident">NaiveDateTime</span>;

<span class="comment">// String values to parse, Note that the 2nd value is not a correct time value.</span>
<span class="kw">let</span> <span class="ident">datetime_values</span> <span class="op">=</span> <span class="kw-2">&amp;</span>[
            <span class="string">&quot;1988-08-25 00:00:16&quot;</span>,
            <span class="string">&quot;2015-09-05 23:56:04&quot;</span>,
            <span class="string">&quot;2012-12-21 00:00:00&quot;</span>,
        ];
<span class="comment">// Parsing fmt</span>
<span class="kw">let</span> <span class="ident">fmt</span> <span class="op">=</span> <span class="string">&quot;%Y-%m-%d %H:%M:%S&quot;</span>;

<span class="comment">// Create the ChunkedArray</span>
<span class="kw">let</span> <span class="ident">ca</span> <span class="op">=</span> <span class="ident">TimestampSecondChunked</span>::<span class="ident">parse_from_str_slice</span>(<span class="string">&quot;datetime as s since Epoch&quot;</span>, <span class="ident">datetime_values</span>, <span class="ident">fmt</span>);

<span class="comment">// Or collect into a Vec&lt;NaiveDateTime&gt;</span>
<span class="kw">let</span> <span class="ident">vec</span> <span class="op">=</span> <span class="ident">ca</span>.<span class="ident">as_naive_datetime</span>();

<span class="comment">// We could also parse these datetime strings as the following data types:</span>

<span class="comment">// date and time timestamps in different precisions</span>
<span class="kw">let</span> <span class="ident">ca</span> <span class="op">=</span> <span class="ident">TimestampNanosecondChunked</span>::<span class="ident">parse_from_str_slice</span>(<span class="string">&quot;datetime as ns since Epoch&quot;</span>, <span class="ident">datetime_values</span>, <span class="ident">fmt</span>);
<span class="kw">let</span> <span class="ident">ca</span> <span class="op">=</span> <span class="ident">TimestampMicrosecondChunked</span>::<span class="ident">parse_from_str_slice</span>(<span class="string">&quot;datetime as μs since Epoch&quot;</span>, <span class="ident">datetime_values</span>, <span class="ident">fmt</span>);
<span class="kw">let</span> <span class="ident">ca</span> <span class="op">=</span> <span class="ident">TimestampMillisecondChunked</span>::<span class="ident">parse_from_str_slice</span>(<span class="string">&quot;datetime as ms since Epoch&quot;</span>, <span class="ident">datetime_values</span>, <span class="ident">fmt</span>);

<span class="comment">// or dates in different precisions (days and milliseconds)</span>
<span class="kw">let</span> <span class="ident">ca</span> <span class="op">=</span> <span class="ident">Date32Chunked</span>::<span class="ident">parse_from_str_slice</span>(<span class="string">&quot;date as days since Epoch&quot;</span>, <span class="ident">datetime_values</span>, <span class="ident">fmt</span>);
<span class="kw">let</span> <span class="ident">ca</span> <span class="op">=</span> <span class="ident">Date64Chunked</span>::<span class="ident">parse_from_str_slice</span>(<span class="string">&quot;date as ms since Epoch&quot;</span>, <span class="ident">datetime_values</span>, <span class="ident">fmt</span>);</pre></div>
<h2 id="temporal-data-types" class="section-header"><a href="#temporal-data-types">Temporal Data Types</a></h2>
<p>Polars supports all the time datatypes supported by Apache Arrow. These store the time values in
different precisions and bytes:</p>
<h3 id="time" class="section-header"><a href="#time">Time</a></h3>
<ul>
<li><strong>Time64NanosecondChunked</strong>
<ul>
<li>A ChunkedArray which stores time with nanosecond precision as 64 bit signed integer.</li>
</ul>
</li>
<li><strong>Time64MicrosecondChunked</strong>
<ul>
<li>A ChunkedArray which stores time with microsecond precision as 64 bit signed integer.</li>
</ul>
</li>
<li><strong>Time32MillisecondChunked</strong>
<ul>
<li>A ChunkedArray which stores time with millisecond precision as 32 bit signed integer.</li>
</ul>
</li>
<li><strong>Time32SecondChunked</strong>
<ul>
<li>A ChunkedArray which stores time with second precision as 32 bit signed integer.</li>
</ul>
</li>
</ul>
<h3 id="date" class="section-header"><a href="#date">Date</a></h3>
<ul>
<li><strong>Date32Chunked</strong>
<ul>
<li>A ChunkedArray storing the date as elapsed days since the Unix Epoch as 32 bit signed integer.</li>
</ul>
</li>
<li><strong>Date64Chunked</strong>
<ul>
<li>A ChunkedArray storing the date as elapsed milliseconds since the Unix Epoch as 64 bit signed integer.</li>
</ul>
</li>
</ul>
<h3 id="datetime" class="section-header"><a href="#datetime">DateTime</a></h3>
<ul>
<li><strong>TimestampNanosecondChunked</strong>
<ul>
<li>A ChunkedArray storing the date and time as elapsed nanoseconds since the Unix Epoch as 64 bit signed integer.</li>
</ul>
</li>
<li><strong>TimestampMicrosecondChunked</strong>
<ul>
<li>A ChunkedArray storing the date and time as elapsed microseconds since the Unix Epoch as 64 bit signed integer.</li>
</ul>
</li>
<li><strong>TimestampMillisecondChunked</strong>
<ul>
<li>A ChunkedArray storing the date and time as elapsed milliseconds since the Unix Epoch as 64 bit signed integer.</li>
</ul>
</li>
<li><strong>TimestampSecondChunked</strong>
<ul>
<li>A ChunkedArray storing the date and time as elapsed seconds since the Unix Epoch as 64 bit signed integer.</li>
</ul>
</li>
</ul>
</div></section><section id="search" class="content hidden"></section><section class="footer"></section><script>window.rootPath = "../../../";window.currentCrate = "polars";</script><script src="../../../main.js"></script><script defer src="../../../search-index.js"></script></body></html>